{% extends 'base.html.twig' %}

{% block title %}Produit{% endblock %}

{% block body %}
    <h3 class="mb-4">Produit</h3>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ product.id }}</td>
            </tr>
            <tr>
                <th>Marque</th>
                <td>{{ product.model.brand.name }}</td>
            </tr>
            <tr>
                <th>Modèle</th>
                <td>{{ product.model.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ product.description }}</td>
            </tr>
            <tr>
                <th>Condition</th>
                <td>{{ product.productConditionToString }}</td>
            </tr>
            <tr>
                <th>Prix</th>
                <td>{{ product.price }} €</td>
            </tr>
            <tr>
                <th>Date de dépôt</th>
                <td>{{ product.depositDate ? product.depositDate|date('d-m-Y à H:i') : '' }}</td>
            </tr>
            <tr>
                <th>Statut</th>
                <td>{% if product.sell.status == 0 %}En attente{% elseif product.sell.status == 1 %}Accepté{% else %}Refusé{% endif %}</td>
            </tr>
            {% if product.sell.voucher %}
                <tr>
                    <th>Bon de suivi colissimo</th>
                    <td>{{ product.sell.voucher|upper }}</td>
                </tr>
            {% endif %}
        </tbody>
    </table>

    <div class="w-50 my-4">
        <h5>Photos du produit</h5>
        {% if pictures %}
            {% for picture in pictures %}
                <img src="{{ asset('uploads/pictures/' ~ picture.name) }}" class="w-25" alt="Produit">
            {% endfor %}
        {% else %}
            <p>Aucune photo</p>
        {% endif %}
    </div>

    <div class="d-flex">
        {% if is_editable %}
            <a class="btn btn-secondary mr-2" href="{{ path('merchant.product.edit', {'id': product.id}) }}">Modifier</a>
        {% endif %}
        {{ include('merchant/product/_delete_form.html.twig') }}
        <a class="btn btn-primary" href="{{ path('merchant.product.index') }}">Retour</a>
    </div>
{% endblock %}
